<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>H·ªçc Ti·∫øng ƒê·ª©c Vui Nh·ªôn</title>
    <style>
        :root {
            --primary: #4CAF50;
            --secondary: #FF9800;
            --accent: #2196F3;
            --light: #f9f9f9;
            --dark: #333;
            --german-color: #4CAF50;
            --vietnamese-color: #FF9800;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Comic Sans MS', 'Chalkboard SE', sans-serif;
        }
        
        body {
            background-color: #f0f8ff;
            color: var(--dark);
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 1rem;
            text-align: center;
            border-bottom: 5px solid var(--secondary);
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
        }
        
        .tabs {
            display: flex;
            background-color: white;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 1rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .tab {
            flex: 1;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            border-bottom: 3px solid transparent;
        }
        
        .tab.active {
            background-color: var(--light);
            border-bottom: 3px solid var(--secondary);
            color: var(--accent);
        }
        
        .tab:hover {
            background-color: var(--light);
        }
        
        .content {
            display: none;
            background-color: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 1rem;
        }
        
        .content.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .vocab-card {
            background-color: var(--light);
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            border-left: 5px solid var(--accent);
        }
        
        .german-word {
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--primary);
        }
        
        .vietnamese-meaning {
            color: var(--dark);
            margin-top: 0.5rem;
        }
        
        .dialogue-section {
            display: flex;
            gap: 2rem;
            margin: 1rem 0;
        }
        
        .dialogue {
            background-color: #e8f4fd;
            border-radius: 10px;
            padding: 1.5rem;
            flex: 2;
        }
        
        .audio-section {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #fff3e0;
            border-radius: 10px;
            padding: 1.5rem;
            text-align: center;
        }
        
        .audio-title {
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--secondary);
        }
        
        .audio-player {
            width: 100%;
            max-width: 300px;
            margin-bottom: 1rem;
        }
        
        .audio-link {
            color: var(--accent);
            text-decoration: none;
            font-weight: bold;
            margin-top: 0.5rem;
        }
        
        .audio-link:hover {
            text-decoration: underline;
        }
        
        .dialogue-item {
            margin-bottom: 1rem;
            display: flex;
            align-items: flex-start;
        }
        
        .dialogue-speaker {
            font-weight: bold;
            margin-right: 1rem;
            min-width: 30px;
            text-align: center;
            font-size: 1.2rem;
        }
        
        .dialogue-content {
            flex: 1;
        }
        
        .dialogue-german {
            font-weight: bold;
            margin-bottom: 0.3rem;
        }
        
        .dialogue-vietnamese {
            color: #555;
            font-style: italic;
        }
        
        .speaker-a {
            color: var(--accent);
        }
        
        .speaker-b {
            color: var(--primary);
        }
        
        .game-container {
            background-color: var(--light);
            border-radius: 10px;
            padding: 2rem;
            text-align: center;
        }
        
        .game-columns {
            display: flex;
            justify-content: space-between;
            margin: 2rem 0;
        }
        
        .game-column {
            width: 48%;
            min-height: 300px;
            padding: 1rem;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .german-column {
            background-color: rgba(76, 175, 80, 0.1);
            border: 2px solid var(--german-color);
        }
        
        .vietnamese-column {
            background-color: rgba(255, 152, 0, 0.1);
            border: 2px solid var(--vietnamese-color);
        }
        
        .column-title {
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            text-align: center;
            padding: 0.5rem;
            border-radius: 5px;
        }
        
        .german-title {
            background-color: var(--german-color);
            color: white;
        }
        
        .vietnamese-title {
            background-color: var(--vietnamese-color);
            color: white;
        }
        
        .word-card {
            background-color: white;
            border-radius: 10px;
            padding: 1rem;
            margin: 0.5rem 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        
        .german-word-card {
            border-left: 5px solid var(--german-color);
        }
        
        .vietnamese-word-card {
            border-left: 5px solid var(--vietnamese-color);
        }
        
        .word-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .word-card.selected {
            background-color: #e3f2fd;
            transform: scale(1.05);
        }
        
        .word-card.matched {
            opacity: 0;
            transform: scale(0);
            transition: all 0.5s;
            pointer-events: none;
        }
        
        button {
            background-color: var(--secondary);
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            margin: 0.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        button:hover {
            background-color: #f57c00;
            transform: translateY(-2px);
        }
        
        .score {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
            margin: 1rem 0;
        }
        
        .film-info {
            background-color: #fff3e0;
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .film-title {
            font-weight: bold;
            color: var(--accent);
            margin-bottom: 0.5rem;
        }
        
        .message {
            padding: 1rem;
            border-radius: 10px;
            margin: 1rem 0;
            text-align: center;
            font-weight: bold;
        }
        
        .success-message {
            background-color: #c8e6c9;
            color: #2e7d32;
        }
        
        .error-message {
            background-color: #ffcdd2;
            color: #c62828;
        }
        
        footer {
            text-align: center;
            padding: 1rem;
            background-color: var(--dark);
            color: white;
            margin-top: 2rem;
        }
        
        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }
            
            .dialogue-section {
                flex-direction: column;
            }
            
            .game-columns {
                flex-direction: column;
            }
            
            .game-column {
                width: 100%;
                margin-bottom: 1rem;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>H·ªçc Ti·∫øng ƒê·ª©c Vui Nh·ªôn</h1>
        <p>Kh√°m ph√° ng√¥n ng·ªØ m·ªõi qua c√°c tr√≤ ch∆°i th√∫ v·ªã!</p>
    </header>
    
    <div class="container">
        <div class="tabs">
            <div class="tab active" data-tab="vocabulary">T·ª´ V·ª±ng</div>
            <div class="tab" data-tab="dialogue">H·ªôi Tho·∫°i</div>
            <div class="tab" data-tab="grammar">Ng·ªØ Ph√°p</div>
            <div class="tab" data-tab="game">Tr√≤ Ch∆°i</div>
            <div class="tab" data-tab="cinema">ƒêi Xem Phim</div>
        </div>
        
        <div id="vocabulary" class="content active">
            <h2>T·ª´ V·ª±ng Ti·∫øng ƒê·ª©c</h2>
            <p>H·ªçc c√°c t·ª´ v·ª±ng quan tr·ªçng t·ª´ b√†i h·ªçc "ƒêi Xem Phim":</p>
            
            <div id="vocab-list">
                <!-- Vocabulary cards will be generated by JavaScript -->
            </div>
            
            <button id="speak-vocab">üîä Nghe Ph√°t √Çm</button>
        </div>
        
        <div id="dialogue" class="content">
            <h2>H·ªôi Tho·∫°i: G·ªçi ƒêi·ªán ƒê·∫øn R·∫°p Phim</h2>
            <p>Luy·ªán t·∫≠p h·ªôi tho·∫°i ti·∫øng ƒê·ª©c v·ªÅ vi·ªác g·ªçi ƒëi·ªán ƒë·∫øn r·∫°p phim:</p>
            
            <div class="dialogue-section">
                <div class="dialogue" id="dialogue-container">
                    <!-- Dialogue will be generated by JavaScript -->
                </div>
                
                <div class="audio-section">
                    <div class="audio-title">üéß Nghe H·ªôi Tho·∫°i</div>
                    <div class="audio-player">
                        <iframe width="100%" height="60" src="https://vocaroo.com/embed/1nudpFJ7aQ6U?autoplay=0" frameborder="0" allow="autoplay"></iframe>
                    </div>
                    <a href="https://voca.ro/1nudpFJ7aQ6U" class="audio-link" title="Vocaroo Voice Recorder" target="_blank">Nghe tr√™n Vocaroo &gt;&gt;</a>
                    <p class="audio-note">Nh·∫•n play ƒë·ªÉ nghe ƒëo·∫°n h·ªôi tho·∫°i!</p>
                </div>
            </div>
            
            <button id="practice-dialogue">üé≠ Luy·ªán T·∫≠p H·ªôi Tho·∫°i</button>
        </div>
        
        <div id="grammar" class="content">
            <h2>Ng·ªØ Ph√°p Ti·∫øng ƒê·ª©c</h2>
            
            <div class="vocab-card">
                <h3>1. Ph·ªß ƒë·ªãnh v·ªõi "nicht"</h3>
                <p>T·ª´ "nicht" c√≥ nghƒ©a l√† "kh√¥ng", ƒë∆∞·ª£c s·ª≠ d·ª•ng v·ªõi t√™n ri√™ng, c·ª•m t·ª´ th·ªùi gian v√† danh t·ª´ c√≥ m·∫°o t·ª´ x√°c ƒë·ªãnh.</p>
                
                <div class="example">
                    <p><strong>Das ist nicht Herr M√ºller.</strong> - ƒê√¢y kh√¥ng ph·∫£i l√† √¥ng M√ºller.</p>
                    <p><strong>Der Film beginnt nicht um acht Uhr.</strong> - B·ªô phim kh√¥ng b·∫Øt ƒë·∫ßu l√∫c 8 gi·ªù.</p>
                    <p><strong>Das ist nicht das Kino.</strong> - ƒê√¢y kh√¥ng ph·∫£i l√† r·∫°p chi·∫øu phim.</p>
                </div>
            </div>
            
            <div class="vocab-card">
                <h3>2. ƒê·∫∑t c√¢u h·ªèi kh√¥ng c√≥ t·ª´ ƒë·ªÉ h·ªèi</h3>
                <p>Trong c√¢u h·ªèi kh√¥ng c√≥ t·ª´ ƒë·ªÉ h·ªèi, ƒë·ªông t·ª´ ƒë·ª©ng ·ªü ƒë·∫ßu c√¢u, theo sau l√† ch·ªß ng·ªØ.</p>
                
                <div class="example">
                    <p><strong>Trinken Sie eine Tasse Tee?</strong> - B·∫°n c√≥ u·ªëng m·ªôt t√°ch tr√† kh√¥ng?</p>
                    <p><strong>Kann ich Briefmarken kaufen?</strong> - T√¥i c√≥ th·ªÉ mua tem kh√¥ng?</p>
                    <p><strong>Hast du die Eintrittskarte?</strong> - B·∫°n c√≥ v√© v√†o c·ª≠a kh√¥ng?</p>
                </div>
            </div>
            
            <button id="grammar-exercise">üìù L√†m B√†i T·∫≠p Ng·ªØ Ph√°p</button>
        </div>
        
        <div id="game" class="content">
            <h2>Tr√≤ Ch∆°i Gh√©p T·ª´</h2>
            <p>Gh√©p t·ª´ ti·∫øng ƒê·ª©c v·ªõi nghƒ©a ti·∫øng Vi·ªát t∆∞∆°ng ·ª©ng!</p>
            
            <div class="score">ƒêi·ªÉm: <span id="score">0</span></div>
            
            <div class="game-container">
                <div id="message-area"></div>
                
                <div class="game-columns">
                    <div class="game-column german-column">
                        <div class="column-title german-title">T·ª´ Ti·∫øng ƒê·ª©c</div>
                        <div id="german-words">
                            <!-- German words will be generated by JavaScript -->
                        </div>
                    </div>
                    
                    <div class="game-column vietnamese-column">
                        <div class="column-title vietnamese-title">Nghƒ©a Ti·∫øng Vi·ªát</div>
                        <div id="vietnamese-words">
                            <!-- Vietnamese words will be generated by JavaScript -->
                        </div>
                    </div>
                </div>
                
                <button id="start-game">B·∫Øt ƒê·∫ßu Tr√≤ Ch∆°i</button>
                <button id="next-round" style="display:none;">V√≤ng Ti·∫øp Theo</button>
            </div>
        </div>
        
        <div id="cinema" class="content">
            <h2>Th√¥ng Tin Phim Chi·∫øu R·∫°p</h2>
            <p>T√¨m hi·ªÉu v·ªÅ c√°c b·ªô phim v√† gi√° v√© t·ª´ b√†i h·ªçc:</p>
            
            <div class="film-info">
                <div class="film-title">Golden Eye</div>
                <p>Th·ªùi gian b·∫Øt ƒë·∫ßu: 9:30</p>
                <p>Gi√° v√©: 12 DM</p>
            </div>
            
            <div class="film-info">
                <div class="film-title">Das Piano</div>
                <p>Th·ªùi gian b·∫Øt ƒë·∫ßu: 8:00</p>
                <p>Gi√° v√©: 12 DM</p>
            </div>
            
            <div class="film-info">
                <div class="film-title">Dr Dolittle</div>
                <p>Th·ªùi gian b·∫Øt ƒë·∫ßu: 6:00</p>
                <p>Gi√° v√©: 8 DM (tr·∫ª em), 12 DM (ng∆∞·ªùi l·ªõn)</p>
            </div>
            
            <button id="cinema-quiz">üé¨ Ki·ªÉm Tra Ki·∫øn Th·ª©c V·ªÅ Phim</button>
        </div>
    </div>
    
    <footer>
        <p>·ª®ng d·ª•ng H·ªçc Ti·∫øng ƒê·ª©c Cho Tr·∫ª Em - D·ª±a tr√™n b√†i h·ªçc "Ins Kino gehen"</p>
    </footer>

    <script>
        // Vocabulary data
        const vocabulary = [
            { german: "ist dort", vietnamese: "c√≥ ph·∫£i ƒë√¢y l√† [khi n√≥i ƒëi·ªán tho·∫°i]" },
            { german: "nicht haben", vietnamese: "kh√¥ng c√≥" },
            { german: "die falsche Telefonnummer", vietnamese: "s·ªë ƒëi·ªán tho·∫°i sai" },
            { german: "die richtige Nummer", vietnamese: "s·ªë ƒë√∫ng" },
            { german: "wiederholen", vietnamese: "l·∫∑p l·∫°i" },
            { german: "auf Wiederh√∂ren", vietnamese: "t·∫°m bi·ªát [khi n√≥i ƒëi·ªán tho·∫°i]" },
            { german: "heute Abend", vietnamese: "t·ªëi nay" },
            { german: "zeigen", vietnamese: "chi·∫øu" },
            { german: "wie viel", vietnamese: "bao nhi√™u" },
            { german: "kosten", vietnamese: "c√≥ gi√°" },
            { german: "die Eintrittskarte", vietnamese: "v√© v√†o c·ª≠a" },
            { german: "f√ºr die Kinder", vietnamese: "cho tr·∫ª em" },
            { german: "der Erwachsene", vietnamese: "ng∆∞·ªùi l·ªõn" }
        ];

        // Dialogue data in LaTeX format
        const dialogueItems = [
            { speaker: "‚óã", german: "Hallo, ist dort das Capitol?", vietnamese: "Xin ch√†o, c√≥ ph·∫£i ƒë√¢y l√† r·∫°p Capitol kh√¥ng?" },
            { speaker: "‚ñº", german: "Nein, hier ist nicht das Capitol. Hier ist das Princess. Sie haben die falsche Telefonnummer.", vietnamese: "Kh√¥ng, ƒë√¢y kh√¥ng ph·∫£i l√† r·∫°p Capitol. ƒê√¢y l√† r·∫°p Princess. B·∫°n ƒë√£ g·ªçi nh·∫ßm s·ªë ƒëi·ªán tho·∫°i." },
            { speaker: "‚óã", german: "Haben Sie die richtige Nummer?", vietnamese: "B·∫°n c√≥ s·ªë ƒë√∫ng kh√¥ng?" },
            { speaker: "‚ñº", german: "Ja, nat√ºrlich. Sie ist 7-4-8-5-3-7.", vietnamese: "V√¢ng, t·∫•t nhi√™n. S·ªë ƒë√≥ l√† 7-4-8-5-3-7." },
            { speaker: "‚óã", german: "K√∂nnen Sie das bitte wiederholen?", vietnamese: "B·∫°n c√≥ th·ªÉ vui l√≤ng l·∫∑p l·∫°i kh√¥ng?" },
            { speaker: "‚ñº", german: "Ja, 7-4-8-5-3-7.", vietnamese: "V√¢ng, 7-4-8-5-3-7." },
            { speaker: "‚óã", german: "Vielen Dank. Auf Wiederh√∂ren.", vietnamese: "C·∫£m ∆°n r·∫•t nhi·ªÅu. T·∫°m bi·ªát." },
            { speaker: "‚óã", german: "Beginnt der James Bond Film heute Abend um acht Uhr?", vietnamese: "Phim James Bond c√≥ b·∫Øt ƒë·∫ßu t·ªëi nay l√∫c 8 gi·ªù kh√¥ng?" },
            { speaker: "‚ñº", german: "Golden Eye beginnt nicht um acht Uhr. Er beginnt um 9.30. Das Piano beginnt um 8.00 Uhr und um 6.00 Uhr zeigen wir Dr Dolittle.", vietnamese: "Golden Eye kh√¥ng b·∫Øt ƒë·∫ßu l√∫c 8 gi·ªù. N√≥ b·∫Øt ƒë·∫ßu l√∫c 9:30. Das Piano b·∫Øt ƒë·∫ßu l√∫c 8:00 v√† l√∫c 6:00 ch√∫ng t√¥i chi·∫øu Dr Dolittle." },
            { speaker: "‚óã", german: "Wie viel kostet die Eintrittskarte?", vietnamese: "V√© v√†o c·ª≠a gi√° bao nhi√™u?" },
            { speaker: "‚ñº", german: "Golden Eye und Das Piano kosten DM 12. Dr Dolittle kostet DM 8 f√ºr Kinder und DM 12 f√ºr Erwachsene.", vietnamese: "Golden Eye v√† Das Piano gi√° 12 DM. Dr Dolittle gi√° 8 DM cho tr·∫ª em v√† 12 DM cho ng∆∞·ªùi l·ªõn." }
        ];

        // Game variables
        let score = 0;
        let currentPairs = [];
        let selectedGermanCard = null;
        let selectedVietnameseCard = null;
        let matchedPairs = 0;

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize tabs
            initTabs();
            
            // Initialize vocabulary section
            initVocabulary();
            
            // Initialize dialogue section
            initDialogue();
            
            // Initialize game section
            initGame();
            
            // Add event listeners
            document.getElementById('speak-vocab').addEventListener('click', speakVocabulary);
            document.getElementById('practice-dialogue').addEventListener('click', practiceDialogue);
            document.getElementById('grammar-exercise').addEventListener('click', showGrammarExercise);
            document.getElementById('start-game').addEventListener('click', startGame);
            document.getElementById('next-round').addEventListener('click', nextRound);
            document.getElementById('cinema-quiz').addEventListener('click', startCinemaQuiz);
        });

        // Tab functionality
        function initTabs() {
            const tabs = document.querySelectorAll('.tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    // Remove active class from all tabs and contents
                    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.content').forEach(c => c.classList.remove('active'));
                    
                    // Add active class to clicked tab and corresponding content
                    this.classList.add('active');
                    const tabId = this.getAttribute('data-tab');
                    document.getElementById(tabId).classList.add('active');
                });
            });
        }

        // Initialize vocabulary section
        function initVocabulary() {
            const vocabList = document.getElementById('vocab-list');
            vocabList.innerHTML = '';
            
            vocabulary.forEach(word => {
                const card = document.createElement('div');
                card.className = 'vocab-card';
                card.innerHTML = `
                    <div class="german-word">${word.german}</div>
                    <div class="vietnamese-meaning">${word.vietnamese}</div>
                `;
                vocabList.appendChild(card);
            });
        }

        // Initialize dialogue section with LaTeX-style formatting
        function initDialogue() {
            const dialogueContainer = document.getElementById('dialogue-container');
            dialogueContainer.innerHTML = '';
            
            dialogueItems.forEach(item => {
                const dialogueItem = document.createElement('div');
                dialogueItem.className = 'dialogue-item';
                
                const speakerClass = item.speaker === "‚óã" ? "speaker-a" : "speaker-b";
                
                dialogueItem.innerHTML = `
                    <div class="dialogue-speaker ${speakerClass}">${item.speaker}</div>
                    <div class="dialogue-content">
                        <div class="dialogue-german">${item.german}</div>
                        <div class="dialogue-vietnamese">${item.vietnamese}</div>
                    </div>
                `;
                
                dialogueContainer.appendChild(dialogueItem);
            });
        }

        // Initialize game section
        function initGame() {
            // This will be populated when the game starts
        }

        // Speak vocabulary (text-to-speech simulation)
        function speakVocabulary() {
            alert("üîä T√≠nh nƒÉng ph√°t √¢m s·∫Ω ho·∫°t ƒë·ªông khi t√≠ch h·ª£p API Text-to-Speech!");
            // In a real implementation, you would use the Web Speech API here
        }

        // Practice dialogue
        function practiceDialogue() {
            alert("üé≠ B·∫Øt ƒë·∫ßu luy·ªán t·∫≠p h·ªôi tho·∫°i! B·∫°n s·∫Ω ƒë√≥ng vai m·ªôt nh√¢n v·∫≠t trong ƒëo·∫°n h·ªôi tho·∫°i.");
            // In a real implementation, you would create an interactive dialogue practice
        }

        // Show grammar exercise
        function showGrammarExercise() {
            alert("üìù B√†i t·∫≠p ng·ªØ ph√°p s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y!");
            // In a real implementation, you would create grammar exercises
        }

        // Start the matching game
        function startGame() {
            score = 0;
            matchedPairs = 0;
            document.getElementById('score').textContent = score;
            document.getElementById('start-game').style.display = 'none';
            document.getElementById('next-round').style.display = 'inline-block';
            document.getElementById('message-area').innerHTML = '';
            
            createGamePairs();
        }

        // Create word pairs for the matching game
        function createGamePairs() {
            const germanWordsContainer = document.getElementById('german-words');
            const vietnameseWordsContainer = document.getElementById('vietnamese-words');
            
            germanWordsContainer.innerHTML = '';
            vietnameseWordsContainer.innerHTML = '';
            
            // Reset selection
            selectedGermanCard = null;
            selectedVietnameseCard = null;
            
            // Shuffle vocabulary and select 6 random words
            const shuffledVocab = [...vocabulary].sort(() => 0.5 - Math.random()).slice(0, 6);
            currentPairs = shuffledVocab;
            
            // Create German cards
            shuffledVocab.forEach((word, index) => {
                const card = document.createElement('div');
                card.className = 'word-card german-word-card';
                card.textContent = word.german;
                card.dataset.id = index;
                
                card.addEventListener('click', function() {
                    handleGermanCardClick(this);
                });
                
                germanWordsContainer.appendChild(card);
            });
            
            // Create Vietnamese cards (shuffled)
            const shuffledVietnamese = [...shuffledVocab].sort(() => 0.5 - Math.random());
            
            shuffledVietnamese.forEach((word, index) => {
                const card = document.createElement('div');
                card.className = 'word-card vietnamese-word-card';
                card.textContent = word.vietnamese;
                card.dataset.id = shuffledVocab.indexOf(word);
                
                card.addEventListener('click', function() {
                    handleVietnameseCardClick(this);
                });
                
                vietnameseWordsContainer.appendChild(card);
            });
        }

        // Handle German card click
        function handleGermanCardClick(card) {
            // If already matched, ignore click
            if (card.classList.contains('matched')) return;
            
            // If already selected, deselect it
            if (selectedGermanCard === card) {
                card.classList.remove('selected');
                selectedGermanCard = null;
                return;
            }
            
            // Deselect previous selection
            if (selectedGermanCard) {
                selectedGermanCard.classList.remove('selected');
            }
            
            // Select new card
            card.classList.add('selected');
            selectedGermanCard = card;
            
            // Check if we have a pair selected
            checkPair();
        }

        // Handle Vietnamese card click
        function handleVietnameseCardClick(card) {
            // If already matched, ignore click
            if (card.classList.contains('matched')) return;
            
            // If already selected, deselect it
            if (selectedVietnameseCard === card) {
                card.classList.remove('selected');
                selectedVietnameseCard = null;
                return;
            }
            
            // Deselect previous selection
            if (selectedVietnameseCard) {
                selectedVietnameseCard.classList.remove('selected');
            }
            
            // Select new card
            card.classList.add('selected');
            selectedVietnameseCard = card;
            
            // Check if we have a pair selected
            checkPair();
        }

        // Check if selected cards form a correct pair
        function checkPair() {
            if (selectedGermanCard && selectedVietnameseCard) {
                const germanId = selectedGermanCard.dataset.id;
                const vietnameseId = selectedVietnameseCard.dataset.id;
                
                if (germanId === vietnameseId) {
                    // Correct match
                    showMessage("Ch√≠nh x√°c! B·∫°n ƒë√£ gh√©p ƒë√∫ng!", "success");
                    score += 10;
                    document.getElementById('score').textContent = score;
                    
                    // Mark cards as matched and make them disappear
                    setTimeout(() => {
                        selectedGermanCard.classList.add('matched');
                        selectedVietnameseCard.classList.add('matched');
                        
                        selectedGermanCard = null;
                        selectedVietnameseCard = null;
                        
                        matchedPairs++;
                        
                        // Check if all pairs are matched
                        if (matchedPairs === currentPairs.length) {
                            setTimeout(() => {
                                showMessage(`Ch√∫c m·ª´ng! B·∫°n ƒë√£ ho√†n th√†nh v√≤ng n√†y v·ªõi ${score} ƒëi·ªÉm!`, "success");
                            }, 500);
                        }
                    }, 1000);
                } else {
                    // Incorrect match
                    showMessage("Ch∆∞a ƒë√∫ng, h√£y th·ª≠ l·∫°i!", "error");
                    
                    // Deselect cards after a delay
                    setTimeout(() => {
                        selectedGermanCard.classList.remove('selected');
                        selectedVietnameseCard.classList.remove('selected');
                        selectedGermanCard = null;
                        selectedVietnameseCard = null;
                    }, 1000);
                }
            }
        }

        // Show message to user
        function showMessage(text, type) {
            const messageArea = document.getElementById('message-area');
            const message = document.createElement('div');
            message.className = `message ${type}-message`;
            message.textContent = text;
            
            messageArea.innerHTML = '';
            messageArea.appendChild(message);
            
            // Remove message after 2 seconds
            setTimeout(() => {
                message.remove();
            }, 2000);
        }

        // Next round of the game
        function nextRound() {
            createGamePairs();
        }

        // Start cinema quiz
        function startCinemaQuiz() {
            alert("üé¨ B·∫Øt ƒë·∫ßu ki·ªÉm tra ki·∫øn th·ª©c v·ªÅ phim! B·∫°n s·∫Ω tr·∫£ l·ªùi c√°c c√¢u h·ªèi v·ªÅ th·ªùi gian chi·∫øu v√† gi√° v√©.");
            // In a real implementation, you would create a quiz about the films
        }
    </script>
</body>
</html>