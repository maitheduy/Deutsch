<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Báº£n Äá»“ Ngá»¯ PhÃ¡p Tiáº¿ng Äá»©c â€“ Báº£ng Ã” Chá»¯ Máº¡o Tá»« & CÃ¡ch</title>
  <style>
    :root {
      --primary: #4fc3f7;
      --success: #4caf50;
      --warning: #ff9800;
      --error: #f44336;
      --light: #f9f9f9;
      --dark: #333;
      --shadow: 0 4px 20px rgba(0,0,0,0.08);
    }

    body {
      font-family: 'Segoe UI', 'Comic Sans MS', cursive, sans-serif;
      background: linear-gradient(135deg, #e0f7fa, #bbdefb);
      margin: 0;
      padding: 20px;
      color: var(--dark);
      line-height: 1.6;
    }

    .container {
      max-width: 950px;
      margin: 20px auto;
      background: white;
      border-radius: 24px;
      padding: 40px;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }

    h1 {
      text-align: center;
      color: #e91e63;
      font-size: 3.2rem;
      margin-bottom: 25px;
      text-shadow: 2px 2px 6px rgba(0,0,0,0.1);
      font-weight: 600;
      letter-spacing: -0.5px;
    }

    h2, h3 {
      color: var(--success);
      border-bottom: 3px solid #e0e0e0;
      padding-bottom: 12px;
      margin-top: 35px;
      font-weight: 600;
    }

    .section {
      background: var(--light);
      border-radius: 18px;
      padding: 30px;
      margin: 30px 0;
      border-left: 6px solid var(--primary);
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      transition: transform 0.3s ease;
    }

    .section:hover {
      transform: translateY(-5px);
    }

    .key-word {
      font-weight: bold;
      color: #d81b60;
      font-size: 1.3rem;
      padding: 6px 14px;
      background: #ffebee;
      border-radius: 12px;
      border: 1px solid #ffcdd2;
      display: inline-block;
      margin: 0 3px;
    }

    .example {
      background: #e8f5e9;
      padding: 18px;
      border-radius: 14px;
      margin: 18px 0;
      border-left: 4px solid var(--success);
      font-size: 1.25rem;
      border-radius: 14px;
      position: relative;
    }

    .example p {
      margin: 10px 0;
      line-height: 1.7;
    }

    .tip-box {
      background: #fff3e0;
      border: 2px dashed #ff9800;
      padding: 18px;
      border-radius: 14px;
      margin: 25px 0;
      font-style: italic;
      color: #e65100;
      font-weight: 600;
      font-size: 1.1rem;
      box-shadow: 0 2px 8px rgba(255,152,0,0.1);
    }

    /* Báº¢NG Ã” CHá»® 4x4 â€” Äá»ˆNH CAO */
    .grid-container {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin: 35px auto;
      max-width: 620px;
      justify-content: center;
      perspective: 1000px;
    }

    .grid-cell {
      width: 85px;
      height: 85px;
      background: white;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      color: #757575;
      font-size: 0.85rem;
      cursor: pointer;
      user-select: none;
      transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      box-shadow: 0 3px 8px rgba(0,0,0,0.06);
      position: relative;
      overflow: hidden;
    }

    .grid-cell:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
    }

    .grid-cell.correct {
      background: #c8e6c9 !important;
      border-color: var(--success) !important;
      color: #2e7d32 !important;
      animation: pulse-success 0.8s ease-out;
    }

    .grid-cell.wrong {
      background: #ffcdd2 !important;
      border-color: var(--error) !important;
      color: #c62828 !important;
      animation: pulse-error 0.6s ease-out;
    }

    .grid-cell::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at center, rgba(79, 195, 247, 0.1) 0%, transparent 70%);
      opacity: 0;
      transition: opacity 0.3s;
      border-radius: inherit;
    }

    .grid-cell:hover::before {
      opacity: 1;
    }

    .grid-label {
      font-size: 0.75rem;
      font-weight: 600;
      color: #555;
      text-align: center;
      line-height: 1.3;
      margin: 0;
      padding: 0 2px;
    }

    .grid-header {
      text-align: center;
      font-weight: 700;
      color: var(--primary);
      font-size: 1.2rem;
      margin-bottom: 15px;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      font-family: 'Segoe UI', sans-serif;
    }

    /* VÃ¹ng kÃ©o tháº£ máº¡o tá»« */
    .word-bank {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
      margin: 30px 0;
      padding: 20px;
      background: #f0f8ff;
      border-radius: 16px;
      box-shadow: 0 3px 10px rgba(0,0,0,0.05);
    }

    .drag-item {
      padding: 12px 18px;
      background: var(--primary);
      color: white;
      border-radius: 14px;
      font-weight: 700;
      cursor: grab;
      user-select: none;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      font-size: 1.1rem;
      min-width: 70px;
      text-align: center;
      transition: all 0.25s ease;
      border: 1px solid rgba(255,255,255,0.3);
    }

    .drag-item:active {
      cursor: grabbing;
      transform: scale(1.08) translateY(-2px);
      box-shadow: 0 6px 14px rgba(0,0,0,0.15);
    }

    .drag-item:hover {
      background: #42a5f5;
    }

    .feedback {
      font-size: 1.6rem;
      margin: 25px 0;
      font-weight: 700;
      min-height: 70px;
      color: #d81b60;
      text-align: center;
      transition: all 0.4s ease;
      font-family: 'Segoe UI', sans-serif;
    }

    .audio-btn,
    .reset-btn {
      background: #ff9800;
      color: white;
      border: none;
      padding: 14px 28px;
      border-radius: 50px;
      font-size: 1.2rem;
      cursor: pointer;
      margin: 15px 0;
      box-shadow: 0 5px 15px rgba(0,0,0,0.15);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      font-family: 'Segoe UI', sans-serif;
      font-weight: 600;
      letter-spacing: 0.5px;
      display: inline-block;
    }

    .audio-btn:hover {
      background: #fb8c00;
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(255,152,0,0.3);
    }

    .reset-btn {
      background: #673ab7;
      margin-left: 15px;
    }

    .reset-btn:hover {
      background: #5e35b1;
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(103, 58, 183, 0.3);
    }

    .emoji {
      font-size: 2.8rem;
      text-align: center;
      margin: 25px 0;
      opacity: 0.9;
    }

    .footer {
      text-align: center;
      font-size: 0.95rem;
      color: #777;
      margin-top: 45px;
      padding-top: 25px;
      border-top: 1px solid #eee;
    }

    /* Hiá»‡u á»©ng mÆ°á»£t */
    @keyframes pulse-success {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }

    @keyframes pulse-error {
      0% { transform: scale(1); }
      50% { transform: scale(1.03); }
      100% { transform: scale(1); }
    }

    /* Hiá»‡u á»©ng hoÃ n tÃ¡c */
    .grid-cell.animating {
      opacity: 0.7;
      transform: scale(0.9);
    }

    @media (max-width: 600px) {
      h1 { font-size: 2.4rem; }
      .grid-cell { width: 70px; height: 70px; font-size: 0.75rem; }
      .drag-item { padding: 10px 14px; font-size: 1rem; }
      .grid-container { gap: 8px; }
      .audio-btn, .reset-btn { padding: 12px 22px; font-size: 1.1rem; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ—ºï¸ Báº£n Äá»“ Ngá»¯ PhÃ¡p Tiáº¿ng Äá»©c â€“ Báº£ng Ã” Chá»¯ Máº¡o Tá»« & CÃ¡ch</h1>

    <div class="emoji">ğŸ“–ğŸ¯</div>
    <p style="text-align: center; font-size: 1.35rem; color: #555;">Há»c cÃ¡ch vÃ  máº¡o tá»« báº±ng trÃ² chÆ¡i â€œbáº£ng Ã´ chá»¯â€ â€” khÃ´ng cáº§n há»c thuá»™c, chá»‰ cáº§n hiá»ƒu vÃ  chÆ¡i!</p>

    <!-- Giáº£i thÃ­ch ká»¹ 4 cÃ¡ch -->
    <div class="section">
      <h2>ğŸ§  GIáº¢I THÃCH SÃ‚U 4 CÃCH NGá»® PHÃP â€” NHÆ¯ Má»˜T CÃ‚U CHUYá»†N</h2>

      <div class="example">
        <h3>1. Chá»§ CÃ¡ch (Nominativ) â€” â€œAi lÃ  ngÆ°á»i lÃ m viá»‡c?â€</h3>
        <p><strong>áº¨n dá»¥:</strong> Báº¡n lÃ  ngÆ°á»i cáº§m micro Ä‘á»©ng trÃªn sÃ¢n kháº¥u â€” báº¡n lÃ  <strong>ngÆ°á»i chá»§ Ä‘á»™ng</strong>.</p>
        <p><strong>CÃ¢u há»i:</strong> Wer? (Ai?) â€” <em>â€œWer ist das?â€</em> (Ai váº­y?)</p>
        <p><strong>VÃ­ dá»¥:</strong></p>
        <p><code><span class="key-word">Der</span> Junge</code> spielt FuÃŸball. â†’ <em>â€œCáº­u bÃ©â€ lÃ  ngÆ°á»i chÆ¡i bÃ³ng.</em></p>
        <p><code><span class="key-word">Die</span> Frau</code> liest ein Buch. â†’ <em>â€œNgÆ°á»i phá»¥ ná»¯â€ lÃ  ngÆ°á»i Ä‘á»c sÃ¡ch.</em></p>
        <p>ğŸ‘‰ LuÃ´n lÃ  <strong>chá»§ ngá»¯</strong> â€” khÃ´ng bao giá» bá»‹ thay Ä‘á»•i bá»Ÿi Ä‘á»™ng tá»«!</p>
      </div>

      <div class="example">
        <h3>2. Äá»‘i CÃ¡ch (Akkusativ) â€” â€œAi hoáº·c cÃ¡i gÃ¬ bá»‹ tÃ¡c Ä‘á»™ng?â€</h3>
        <p><strong>áº¨n dá»¥:</strong> Báº¡n nÃ©m quáº£ bÃ³ng â€” quáº£ bÃ³ng lÃ  <strong>Ä‘á»‘i tÆ°á»£ng bá»‹ tÃ¡c Ä‘á»™ng</strong>.</p>
        <p><strong>CÃ¢u há»i:</strong> Wen? Was? (Ai? CÃ¡i gÃ¬?) â€” <em>â€œWas siehst du?â€</em> (Báº¡n tháº¥y gÃ¬?)</p>
        <p><strong>VÃ­ dá»¥:</strong></p>
        <p>Ich sehe <code><span class="key-word">den</span> Mann</code>. â†’ <em>TÃ´i tháº¥y <strong>ngÆ°á»i Ä‘Ã n Ã´ng</strong> (ngÆ°á»i bá»‹ tÃ´i nhÃ¬n).</em></p>
        <p>Sie kauft <code><span class="key-word">die</span> Tasche</code>. â†’ <em>CÃ´ áº¥y mua <strong>cÃ¡i tÃºi</strong> (cÃ¡i bá»‹ mua).</em></p>
        <p>ğŸ‘‰ Chá»‰ cÃ³ <strong>giá»‘ng Ä‘á»±c</strong> thay Ä‘á»•i: <strong>der â†’ den</strong>. CÃ¡c giá»‘ng khÃ¡c giá»¯ nguyÃªn!</p>
      </div>

      <div class="example">
        <h3>3. Táº·ng CÃ¡ch (Dativ) â€” â€œAi Ä‘Æ°á»£c táº·ng?â€</h3>
        <p><strong>áº¨n dá»¥:</strong> Báº¡n Ä‘Æ°a quÃ  cho báº¡n â€” báº¡n lÃ  ngÆ°á»i cho, báº¡n lÃ  ngÆ°á»i <strong>nháº­n quÃ </strong>.</p>
        <p><strong>CÃ¢u há»i:</strong> Wem? (Cho ai?) â€” <em>â€œWem gibst du das Buch?â€</em> (Báº¡n Ä‘Æ°a cuá»‘n sÃ¡ch cho ai?)</p>
        <p><strong>VÃ­ dá»¥:</strong></p>
        <p>Ich gebe <code><span class="key-word">dem</span> Kind</code> einen Apfel. â†’ <em>TÃ´i Ä‘Æ°a <strong>cho Ä‘á»©a tráº»</strong> má»™t quáº£ tÃ¡o.</em></p>
        <p>Sie hilft <code><span class="key-word">der</span> Lehrerin</code>. â†’ <em>CÃ´ áº¥y giÃºp <strong>cho cÃ´ giÃ¡o</strong>.</em></p>
        <p>ğŸ‘‰ Giá»‘ng Ä‘á»±c & trung: <strong>der â†’ dem</strong>, <strong>das â†’ dem</strong><br>Giá»‘ng cÃ¡i: <strong>die â†’ der</strong> (khÃ´ng pháº£i â€œdemâ€!)</p>
      </div>

      <div class="example">
        <h3>4. Sá»Ÿ Há»¯u CÃ¡ch (Genitiv) â€” â€œCá»§a ai?â€</h3>
        <p><strong>áº¨n dá»¥:</strong> Báº¡n nhÃ¬n vÃ o má»™t chiáº¿c Ã¡o â€” báº¡n há»i: â€œCá»§a ai tháº¿?â€</p>
        <p><strong>CÃ¢u há»i:</strong> Wessen? (Cá»§a ai?) â€” <em>â€œWessen Buch ist das?â€</em> (Cuá»‘n sÃ¡ch nÃ y lÃ  cá»§a ai?)</p>
        <p><strong>VÃ­ dá»¥:</strong></p>
        <p>Das ist das Auto <code><span class="key-word">des</span> Vaters</code>. â†’ <em>ÄÃ³ lÃ  chiáº¿c xe <strong>cá»§a bá»‘</strong>.</em></p>
        <p>Die Farbe <code><span class="key-word">der</span> Blume</code> ist schÃ¶n. â†’ <em>MÃ u sáº¯c <strong>cá»§a bÃ´ng hoa</strong> Ä‘áº¹p.</em></p>
        <p>ğŸ‘‰ Giá»‘ng Ä‘á»±c & trung: <strong>der â†’ des</strong>, <strong>das â†’ des</strong><br>Giá»‘ng cÃ¡i & sá»‘ nhiá»u: <strong>die â†’ der</strong></p>
        <p>âš ï¸ Trong giao tiáº¿p háº±ng ngÃ y, ngÆ°á»i Äá»©c thÆ°á»ng dÃ¹ng <strong>Dativ + von</strong> thay cho Genitiv:</p>
        <p>â†’ â€œDas Auto von meinem Vaterâ€ thay vÃ¬ â€œDas Auto des Vatersâ€</p>
      </div>

      <div class="tip-box">
        ğŸ§  Máº¹o nhá»› nhanh:  
        <strong>â€œNominativ = Chá»§ nhÃ¢nâ€</strong> â€” NgÆ°á»i Ä‘á»©ng Ä‘áº§u<br>
        <strong>â€œAkkusativ = Äá»‘i tÆ°á»£ngâ€</strong> â€” NgÆ°á»i bá»‹ tÃ¡c Ä‘á»™ng<br>
        <strong>â€œDativ = NgÆ°á»i nháº­nâ€</strong> â€” NgÆ°á»i Ä‘Æ°á»£c táº·ng<br>
        <strong>â€œGenitiv = Cá»§a ai?â€</strong> â€” Má»‘i quan há»‡ sá»Ÿ há»¯u
      </div>
    </div>

    <!-- Báº£ng Ã´ chá»¯ 4x4 â€” TrÃ² chÆ¡i chÃ­nh -->
    <div class="section">
      <h2>ğŸ¯ TRÃ’ CHÆ I: Äáº¶T Máº O Tá»ª VÃ€O Ã” CHÃNH XÃC!</h2>
      <p style="font-size: 1.25rem; color: #555;">Má»—i Ã´ vuÃ´ng nhá» Ä‘áº¡i diá»‡n cho má»™t tá»• há»£p: <strong>CÃ¡ch + Giá»›i tÃ­nh</strong>. HÃ£y kÃ©o máº¡o tá»« Ä‘Ãºng vÃ o Ã´!</p>

      <!-- Báº£ng tiÃªu Ä‘á» -->
      <div class="grid-header">CÃCH</div>
      <div class="grid-container" id="grid-container">
        <!-- Cá»™t 1: Nominativ -->
        <div class="grid-cell" data-case="nominativ" data-gender="maskulin">
          <div class="grid-label">Nominativ</div>
          <div class="grid-label">Ä‘á»±c</div>
        </div>
        <div class="grid-cell" data-case="nominativ" data-gender="feminin">
          <div class="grid-label">Nominativ</div>
          <div class="grid-label">cÃ¡i</div>
        </div>
        <div class="grid-cell" data-case="nominativ" data-gender="neutral">
          <div class="grid-label">Nominativ</div>
          <div class="grid-label">trung</div>
        </div>
        <div class="grid-cell" data-case="nominativ" data-gender="plural">
          <div class="grid-label">Nominativ</div>
          <div class="grid-label">nhiá»u</div>
        </div>

        <!-- Cá»™t 2: Akkusativ -->
        <div class="grid-cell" data-case="akkusativ" data-gender="maskulin">
          <div class="grid-label">Akkusativ</div>
          <div class="grid-label">Ä‘á»±c</div>
        </div>
        <div class="grid-cell" data-case="akkusativ" data-gender="feminin">
          <div class="grid-label">Akkusativ</div>
          <div class="grid-label">cÃ¡i</div>
        </div>
        <div class="grid-cell" data-case="akkusativ" data-gender="neutral">
          <div class="grid-label">Akkusativ</div>
          <div class="grid-label">trung</div>
        </div>
        <div class="grid-cell" data-case="akkusativ" data-gender="plural">
          <div class="grid-label">Akkusativ</div>
          <div class="grid-label">nhiá»u</div>
        </div>

        <!-- Cá»™t 3: Dativ -->
        <div class="grid-cell" data-case="dativ" data-gender="maskulin">
          <div class="grid-label">Dativ</div>
          <div class="grid-label">Ä‘á»±c</div>
        </div>
        <div class="grid-cell" data-case="dativ" data-gender="feminin">
          <div class="grid-label">Dativ</div>
          <div class="grid-label">cÃ¡i</div>
        </div>
        <div class="grid-cell" data-case="dativ" data-gender="neutral">
          <div class="grid-label">Dativ</div>
          <div class="grid-label">trung</div>
        </div>
        <div class="grid-cell" data-case="dativ" data-gender="plural">
          <div class="grid-label">Dativ</div>
          <div class="grid-label">nhiá»u</div>
        </div>

        <!-- Cá»™t 4: Genitiv -->
        <div class="grid-cell" data-case="genitiv" data-gender="maskulin">
          <div class="grid-label">Genitiv</div>
          <div class="grid-label">Ä‘á»±c</div>
        </div>
        <div class="grid-cell" data-case="genitiv" data-gender="feminin">
          <div class="grid-label">Genitiv</div>
          <div class="grid-label">cÃ¡i</div>
        </div>
        <div class="grid-cell" data-case="genitiv" data-gender="neutral">
          <div class="grid-label">Genitiv</div>
          <div class="grid-label">trung</div>
        </div>
        <div class="grid-cell" data-case="genitiv" data-gender="plural">
          <div class="grid-label">Genitiv</div>
          <div class="grid-label">nhiá»u</div>
        </div>
      </div>

      <!-- VÃ¹ng kÃ©o tháº£ máº¡o tá»« -->
      <div class="word-bank" id="word-bank">
        <div class="drag-item" draggable="true">der</div>
        <div class="drag-item" draggable="true">den</div>
        <div class="drag-item" draggable="true">dem</div>
        <div class="drag-item" draggable="true">des</div>
        <div class="drag-item" draggable="true">die</div>
        <div class="drag-item" draggable="true">die</div>
        <div class="drag-item" draggable="true">der</div>
        <div class="drag-item" draggable="true">der</div>
        <div class="drag-item" draggable="true">das</div>
        <div class="drag-item" draggable="true">das</div>
        <div class="drag-item" draggable="true">den</div>
        <div class="drag-item" draggable="true">der</div>
      </div>

      <div class="feedback" id="feedback">HÃ£y kÃ©o cÃ¡c máº¡o tá»« vÃ o Ã´ Ä‘Ãºng!</div>
      <div style="text-align: center;">
        <button class="audio-btn" onclick="playAudio('der den dem des die die der der das das den der')">ğŸ”Š PhÃ¡t Ã¢m táº¥t cáº£ máº¡o tá»«</button>
        <button class="reset-btn" id="reset-btn">ğŸ”„ ChÆ¡i láº¡i</button>
      </div>
    </div>

    <!-- Báº£ng tá»•ng há»£p -->
    <div class="section">
      <h2>âœ… Báº¢NG Tá»”NG Há»¢P Má»˜T Láº¦N NHÃŒN LÃ€ NHá»š</h2>
      <table style="width: 100%; margin: 25px auto; border-collapse: collapse; border-radius: 18px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
        <thead>
          <tr>
            <th style="background: var(--primary); color: white; padding: 18px; text-align: center; font-size: 1.1rem;">CÃ¡ch</th>
            <th style="background: var(--primary); color: white; padding: 18px; text-align: center; font-size: 1.1rem;">Giá»‘ng Ä‘á»±c</th>
            <th style="background: var(--primary); color: white; padding: 18px; text-align: center; font-size: 1.1rem;">Giá»‘ng cÃ¡i</th>
            <th style="background: var(--primary); color: white; padding: 18px; text-align: center; font-size: 1.1rem;">Giá»‘ng trung</th>
            <th style="background: var(--primary); color: white; padding: 18px; text-align: center; font-size: 1.1rem;">Sá»‘ nhiá»u</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td style="background: #e3f2fd; padding: 18px; font-weight: 600;"><strong>Nominativ</strong></td>
            <td style="background: #e3f2fd; padding: 18px; text-align: center;" class="key-word">der</td>
            <td style="background: #e3f2fd; padding: 18px; text-align: center;" class="key-word">die</td>
            <td style="background: #e3f2fd; padding: 18px; text-align: center;" class="key-word">das</td>
            <td style="background: #e3f2fd; padding: 18px; text-align: center;" class="key-word">die</td>
          </tr>
          <tr>
            <td style="background: #e3f2fd; padding: 18px; font-weight: 600;"><strong>Akkusativ</strong></td>
            <td style="background: #e3f2fd; padding: 18px; text-align: center;" class="key-word">den</td>
            <td style="background: #e3f2fd; padding: 18px; text-align: center;" class="key-word">die</td>
            <td style="background: #e3f2fd; padding: 18px; text-align: center;" class="key-word">das</td>
            <td style="background: #e3f2fd; padding: 18px; text-align: center;" class="key-word">die</td>
          </tr>
          <tr>
            <td style="background: #e3f2fd; padding: 18px; font-weight: 600;"><strong>Dativ</strong></td>
            <td style="background: #e3f2fd; padding: 18px; text-align: center;" class="key-word">dem</td>
            <td style="background: #e3f2fd; padding: 18px; text-align: center;" class="key-word">der</td>
            <td style="background: #e3f2fd; padding: 18px; text-align: center;" class="key-word">dem</td>
            <td style="background: #e3f2fd; padding: 18px; text-align: center;" class="key-word">den</td>
          </tr>
          <tr>
            <td style="background: #e3f2fd; padding: 18px; font-weight: 600;"><strong>Genitiv</strong></td>
            <td style="background: #e3f2fd; padding: 18px; text-align: center;" class="key-word">des</td>
            <td style="background: #e3f2fd; padding: 18px; text-align: center;" class="key-word">der</td>
            <td style="background: #e3f2fd; padding: 18px; text-align: center;" class="key-word">des</td>
            <td style="background: #e3f2fd; padding: 18px; text-align: center;" class="key-word">der</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="footer">
      ğŸ§ Há»c tiáº¿ng Äá»©c khÃ´ng pháº£i há»c thuá»™c â€” mÃ  lÃ  <strong>chÆ¡i vÃ  hiá»ƒu</strong>!<br>
      ğŸ‘©â€ğŸ« DÃ nh cho há»c sinh cáº¥p 2 trá»Ÿ lÃªn â€” khÃ´ng cáº§n biáº¿t ngá»¯ phÃ¡p phá»©c táº¡p, chá»‰ cáº§n chÆ¡i!
    </div>
  </div>

  <!-- Ã‚m thanh -->
  <audio id="audio-player" style="display: none;"></audio>

  <script>
    // PhÃ¡t Ã¢m cÃ¡c máº¡o tá»«
    function playAudio(text) {
      const url = `https://translate.google.com/translate_tts?ie=UTF-8&tl=de&q=${encodeURIComponent(text)}&client=tw-ob`;
      const audio = new Audio(url);
      audio.play().catch(e => {
        alert("KhÃ´ng phÃ¡t Ä‘Æ°á»£c Ã¢m thanh. Vui lÃ²ng dÃ¹ng Chrome vÃ  báº­t autoplay!");
      });
    }

    // ÄÃ¡p Ã¡n Ä‘Ãºng â€” má»—i Ã´ cÃ³ 1 máº¡o tá»« Ä‘Ãºng
    const correctAnswers = {
      'nominativ-maskulin': 'der',
      'nominativ-feminin': 'die',
      'nominativ-neutral': 'das',
      'nominativ-plural': 'die',
      'akkusativ-maskulin': 'den',
      'akkusativ-feminin': 'die',
      'akkusativ-neutral': 'das',
      'akkusativ-plural': 'die',
      'dativ-maskulin': 'dem',
      'dativ-feminin': 'der',
      'dativ-neutral': 'dem',
      'dativ-plural': 'den',
      'genitiv-maskulin': 'des',
      'genitiv-feminin': 'der',
      'genitiv-neutral': 'des',
      'genitiv-plural': 'der'
    };

    const gridCells = document.querySelectorAll('.grid-cell');
    const dragItems = document.querySelectorAll('.drag-item');
    const feedback = document.getElementById('feedback');
    const resetBtn = document.getElementById('reset-btn');

    // Khi kÃ©o
    dragItems.forEach(item => {
      item.addEventListener('dragstart', (e) => {
        e.dataTransfer.setData('text/plain', item.textContent);
        e.dataTransfer.effectAllowed = 'copy';
        item.style.opacity = '0.8';
        item.style.transform = 'scale(1.05)';
      });

      item.addEventListener('dragend', () => {
        item.style.opacity = '1';
        item.style.transform = 'scale(1)';
      });
    });

    // Khi tháº£ vÃ o Ã´
    gridCells.forEach(cell => {
      cell.addEventListener('dragover', (e) => {
        e.preventDefault();
        e.dataTransfer.dropEffect = 'copy';
        cell.style.boxShadow = '0 0 15px rgba(79, 195, 247, 0.4)';
      });

      cell.addEventListener('dragleave', () => {
        cell.style.boxShadow = '0 3px 8px rgba(0,0,0,0.06)';
      });

      cell.addEventListener('drop', (e) => {
        e.preventDefault();
        const word = e.dataTransfer.getData('text/plain');
        const caseType = cell.dataset.case;
        const genderType = cell.dataset.gender;
        const key = `${caseType}-${genderType}`;

        // Kiá»ƒm tra Ä‘Ãºng/sai
        if (correctAnswers[key] === word) {
          cell.textContent = word;
          cell.classList.add('correct');
          cell.style.color = '#2e7d32';
          cell.style.fontWeight = '700';
          cell.style.cursor = 'default';
          feedback.textContent = 'âœ… ÄÃºng rá»“i! Báº¡n Ä‘ang lÃ m ráº¥t tá»‘t!';
          feedback.style.color = '#2e7d32';
        } else {
          cell.textContent = 'Sai!';
          cell.classList.add('wrong');
          cell.style.color = '#c62828';
          cell.style.fontWeight = '700';
          feedback.textContent = 'âŒ Sai rá»“i! HÃ£y thá»­ láº¡i vá»›i máº¡o tá»« khÃ¡c.';
          feedback.style.color = '#c62828';
          setTimeout(() => {
            cell.textContent = '';
            cell.classList.remove('wrong');
            cell.style.color = '#757575';
            cell.style.fontWeight = '600';
            cell.innerHTML = `<div class="grid-label">${caseType}</div><div class="grid-label">${genderType}</div>`;
          }, 1200);
        }

        // Kiá»ƒm tra hoÃ n thÃ nh
        const allCorrect = Array.from(gridCells).every(c => 
          c.classList.contains('correct') || 
          (c.textContent.trim() === '' && !c.classList.contains('wrong'))
        );

        if (allCorrect) {
          feedback.textContent = 'ğŸ‰ CHÃšC Má»ªNG! Báº¡n Ä‘Ã£ Ä‘áº·t Ä‘Ãºng táº¥t cáº£ 12 Ã´! ğŸ‘';
          feedback.style.color = '#2e7d32';
          feedback.style.transform = 'scale(1.05)';
          setTimeout(() => feedback.style.transform = 'scale(1)', 500);
        }
      });
    });

    // Click Ä‘Ãºp Ä‘á»ƒ hoÃ n tÃ¡c
    gridCells.forEach(cell => {
      cell.addEventListener('dblclick', () => {
        if (cell.classList.contains('correct') || cell.classList.contains('wrong')) {
          cell.classList.add('animating');
          setTimeout(() => {
            cell.textContent = '';
            cell.classList.remove('correct', 'wrong', 'animating');
            cell.style.color = '#757575';
            cell.style.fontWeight = '600';
            cell.innerHTML = `<div class="grid-label">${cell.dataset.case}</div><div class="grid-label">${cell.dataset.gender}</div>`;
            feedback.textContent = 'âœ… Ã” Ä‘Ã£ Ä‘Æ°á»£c khÃ´i phá»¥c. Thá»­ láº¡i nÃ o!';
            feedback.style.color = '#ff9800';
          }, 150);
        }
      });
    });

    // NÃºt "ChÆ¡i láº¡i" â€” hiá»‡u á»©ng mÆ°á»£t
    resetBtn.addEventListener('click', () => {
      feedback.textContent = 'âœ¨ Äang reset...';
      feedback.style.color = '#ff9800';

      gridCells.forEach(cell => {
        if (cell.classList.contains('correct') || cell.classList.contains('wrong')) {
          cell.classList.add('animating');
          setTimeout(() => {
            cell.textContent = '';
            cell.classList.remove('correct', 'wrong', 'animating');
            cell.style.color = '#757575';
            cell.style.fontWeight = '600';
            cell.innerHTML = `<div class="grid-label">${cell.dataset.case}</div><div class="grid-label">${cell.dataset.gender}</div>`;
          }, 150);
        }
      });

      setTimeout(() => {
        feedback.textContent = 'ğŸ”„ ÄÃ£ reset toÃ n bá»™! HÃ£y báº¯t Ä‘áº§u láº¡i!';
        feedback.style.color = '#ff9800';
      }, 300);
    });

    // Khá»Ÿi táº¡o báº£ng: hiá»ƒn thá»‹ láº¡i tiÃªu Ä‘á» náº¿u Ã´ trá»‘ng
    gridCells.forEach(cell => {
      if (!cell.textContent.trim()) {
        cell.innerHTML = `<div class="grid-label">${cell.dataset.case}</div><div class="grid-label">${cell.dataset.gender}</div>`;
      }
    });
  </script>
</body>
</html>
